aaâ€¿bbâ€¿ccâ€¿Â·â€¿pâ†12â€¿12â€¿12â€¿0â€¿9â†“Â¨â€¢FLines "input.txt"
aaâ€¿bbâ€¿ccâ€¢ParseFloatÂ¨â†©
pâ†©â€¢ParseFloatâˆ˜â‹ˆÂ¨p/ËœÂ¬2|â†•â‰ p

outâ†âŸ¨âŸ©
ipâ†0
aâ€¿bâ€¿câ†aaâ€¿bbâ€¿cc
Comboâ†{
	4: a ;
	5: b ;
	6: c ;
	ğ•©
}
ToBinaryâ†{
	ğ•Š0: âŸ¨âŸ© ;
	{dâ†âŒŠnÃ·ğ•© â‹„ nâ†©ğ•©|n â‹„ d}Â¨âŒ½2â‹†â†•âŒŠ1+2â‹†â¼nâ†ğ•©
}
FromBinaryâ†0{ğ•¨+2Ã—ğ•©}Â´âŒ½
Xorâ†FromBinaryâˆ˜{
	lâ†-ğ•¨âŒˆâ—‹â‰ ğ•©
	ğ•¨â‰ â—‹(lâŠ¸â†‘)ğ•©
}â—‹ToBinary
# Xorâ†©âŠ‘32â€¢bit._xorâ—‹â‹ˆ
Doâ†{
	ğ•Š 0â€¿x: aâ†©âŒŠaÃ·2â‹†Combo x    ;
	ğ•Š 1â€¿x: b Xorâ†©x           ;
	ğ•Š 2â€¿x: bâ†©8|Combo x       ;
	ğ•Š 3â€¿x: ipâ†©(x-2)âŠ£âŸ(aâ‰ 0)ip ;
	ğ•Š 4â€¿x: b Xorâ†©c           ;
	ğ•Š 5â€¿x: outâˆ¾â†©8|Combo x    ;
	ğ•Š 6â€¿x: bâ†©âŒŠaÃ·2â‹†Combo x    ;
	ğ•Š 7â€¿x: câ†©âŒŠaÃ·2â‹†Combo x
}

# part 1
outâ†©âŸ¨âŸ©
ipâ†©0
aâ€¿bâ€¿câ†©aaâ€¿bbâ€¿cc
{Â·:
	Do pâŠËœ0â€¿1+ip
	ip+â†©2
}â€¢_while_{Â·:
	ip<Â¯1+â‰ p
}@
â€¢Out Â¯1â†“âˆ¾(â€¢Fmtâˆ¾','Ë™)Â¨ out

# part 2
# â”Œâ”€                           a    b                    c          out
# â•µ 2 4  bst a  bâ†8|a  â†â”€â”€â”€â”€â”    a                  8|a          c
#   1 1  bxl 1  bâ†bâ‰ 1       â”‚    a                1â‰ 8|a          c
#   7 5  cdv b  câ†bÂ»a       â”‚    a                1â‰ 8|a  (1â‰ 8|a)Â»a
#   1 5  bxl 5  bâ†bâ‰ 5       â”‚    a              5â‰ 1â‰ 8|a  (1â‰ 8|a)Â»a
#   0 3  adv 3  aâ†3Â»a       â”‚  3Â»a              5â‰ 1â‰ 8|a  (1â‰ 8|a)Â»a
#   4 3  bxc 3  bâ†bâ‰ c       â”‚  3Â»a  ((1â‰ 8|a)Â»a)â‰ 5â‰ 1â‰ 8|a  (1â‰ 8|a)Â»a
#   5 5  out b  out,â†8|b    â”‚  3Â»a  ((1â‰ 8|a)Â»a)â‰ 5â‰ 1â‰ 8|a  (1â‰ 8|a)Â»a  8|((1â‰ 8|a)Â»a)â‰ 5â‰ 1â‰ 8|a
#   3 0  jnz 0  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#       â”˜

tensâ†(Â¯10â†‘ToBinary)Â¨â†•2â‹†10
nsâ†{FromBinary(1â€¿0â€¿1âŠ¸â‰ â‰ Â¯3â†‘ğ•©â†“Ëœ-âˆ˜FromBinary)0â€¿0â€¿1â‰ Â¯3â†‘ğ•©}Â¨tens
â€¢Show âŒŠÂ´FromBinaryÂ¨âŸ¨10â¥Š0âŸ©(âˆ¾Â´{(ğ•©âˆ¾Â¯3âŠ¸â†‘)Â¨((Â¯7â†‘ğ•©)â‰¡7âŠ¸â†‘)Â¨âŠ¸/tens/Ëœns=ğ•¨}Â¨)Â´p
